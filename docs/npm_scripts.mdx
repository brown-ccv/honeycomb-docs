---
id: npm_scripts
slug: /npm_scripts
title: NPM Scripts
description: Guide to using the npm scripts needed for Hoenycomb
---

Node package manager (NPM) ships with functionality to combine common shell commands into custom scripts. These scripts are definied in `package.json`. All of the commands needed to develop, build, and deploy Honeycomb are written out as scripts. The scripts you'll likely used are listed below.

```shell
npm run <script>
```

:::caution
Additional scripts can be created if desired but we generally recommend against changing or deleting the scripts Honeycomb ships with.
:::

## Start

- `electron` starts an electron proccess with the built application.
- `elctron-dev` starts an electron proces with the current code.
  - Note that the script waits for http://localhost:3000 to be available before launching the electron process.
- `start` runs the app in development mode and does NOT open a browser. This makes working with electron easier as it creates its own browser for development.
- `start:browser` runs the app in development mode and automatically opens a new browser tab. It uses your system's default browser. The page will reload if you make edits.

## Firebase

- `firebase:emulators:start` starts the Firebase emulators with the data found in `emulator_data/`
- `firebase:emulators:save` saves the current state of the Firebase emulators into `emulator_data/`
  :::caution
  There's no way to revert to what used to be in `emulator_data/ once it's overwritten!
  :::
- `firebase:download` runs the `firebase-download-script.js` script, saving certain data in Firebase to your local machine.

## Dev

`npm run dev` runs the task in development mode on Electron. It executes `npm start` and `npm run electron-dev` concurrently.

Note that this is a base script that other scripts build on top of - you should always run one of the scripts below while developing your task.

- `dev:home` executes `npm run dev` with equipment enabled (`env/.env.home`)
- `dev:home:video` executes `npm run dev` with equipment enabled (`env/.env.home`) and video enabled (`env/.env.video`)
- `dev:clinic` executes `npm run dev` with equipment enabled (`env/.env.clinic`)
- `dev:clinic:video` executes `npm run dev` with equipment enabled (`env/.env.clinic`) and video enabled (`env/.env.video`)
- `dev:firebase` executes `npm run start:browser` with Firebase enabled (`env/.env.firebase`)
  :::info
  `firebase:emulators:start` must be run in its own terminal in order for `npm run firebase:dev` to work
  :::

## Build

## Package

## Miscelaneous

- `commit` runs [commitizen](https://commitizen-tools.github.io/commitizen/) in the console. It is useful for ensuring your Git commit messages are easy to follow.
- `lint` uses [Eslint](https://eslint.org/) to find problems in the code
- `format` uses [Eslint](https://eslint.org/) to find and fix problems in the code that it can automatically
- `test` launches the test runner in the interactive watch mode. See [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.

### `npm build`

Creates a production build of the app (renderer). This must be done before running `package:platform` or the psiturk build instructions.

### `npm run package:platform`

Uses Electron to build the app and create a standalone installer for the given platform. Supported platforms are:

- `npm run package:windows`
- `npm run package:linux`
- `npm run package:mac`

The output can be found in the `./out` subfolder.

Note: Packaging for windows on a non-windows machine requires `mono` and `wine` to be installed.
