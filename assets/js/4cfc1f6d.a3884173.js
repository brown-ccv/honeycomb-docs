"use strict";(self.webpackChunkhoneycomb=self.webpackChunkhoneycomb||[]).push([[3586],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=i.createContext({}),s=function(e){var t=i.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=s(e.components);return i.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},c=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=s(n),c=a,h=u["".concat(p,".").concat(c)]||u[c]||m[c]||r;return n?i.createElement(h,l(l({ref:t},d),{},{components:n})):i.createElement(h,l({ref:t},d))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:a,l[1]=o;for(var s=2;s<r;s++)l[s]=n[s];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2012:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var i=n(7462),a=(n(7294),n(3905));const r={id:"npm_scripts",slug:"/npm_scripts",title:"NPM Scripts",description:"Guide to using the npm scripts needed for Honeycomb"},l=void 0,o={unversionedId:"project_organization/npm_scripts",id:"project_organization/npm_scripts",title:"NPM Scripts",description:"Guide to using the npm scripts needed for Honeycomb",source:"@site/docs/project_organization/npm_scripts.mdx",sourceDirName:"project_organization",slug:"/npm_scripts",permalink:"/honeycomb-docs/docs/npm_scripts",draft:!1,editUrl:"https://github.com/brown-ccv/honeycomb-docs/edit/main/docs/project_organization/npm_scripts.mdx",tags:[],version:"current",lastUpdatedAt:1695238280,formattedLastUpdatedAt:"Sep 20, 2023",frontMatter:{id:"npm_scripts",slug:"/npm_scripts",title:"NPM Scripts",description:"Guide to using the npm scripts needed for Honeycomb"},sidebar:"mySidebar",previous:{title:"Directory Structure",permalink:"/honeycomb-docs/docs/directory_structure"},next:{title:"Environment Variables",permalink:"/honeycomb-docs/docs/environment_variables"}},p={},s=[{value:"Start",id:"start",level:2},{value:"Firebase",id:"firebase",level:2},{value:"Dev",id:"dev",level:2},{value:"Firebase",id:"firebase-1",level:3},{value:"Build",id:"build",level:2},{value:"Package",id:"package",level:2},{value:"Miscellaneous",id:"miscellaneous",level:2}],d={toc:s},u="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Custom scripts for common shell commands can be written in ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json")," and run the node package manager (NPM). All of the commands needed to develop, build, and deploy Honeycomb are written as scripts."),(0,a.kt)("p",null,"Additional scripts can be created if desired but we generally recommend against changing or deleting the scripts Honeycomb ships with."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Executing an NPM Script"',title:'"Executing',an:!0,NPM:!0,'Script"':!0},"npm run <script>\n")),(0,a.kt)("h2",{id:"start"},"Start"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"start")," runs the app in development mode and does NOT open a browser. This makes working with electron easier as it creates its own browser for development."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"start:browser")," runs the app in development mode and automatically opens a new browser tab. It uses your system's default browser. The page will reload if you make edits."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"start:electron"),": Waits for the app to be running (from ",(0,a.kt)("inlineCode",{parentName:"li"},"start"),") and then starts an electron process.")),(0,a.kt)("h2",{id:"firebase"},"Firebase"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"firebase:emulators:start")," starts the Firebase emulators with the data found in ",(0,a.kt)("inlineCode",{parentName:"li"},"emulator_data/")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"firebase:emulators:save")," saves the current state of the Firebase emulators into ",(0,a.kt)("inlineCode",{parentName:"li"},"emulator_data/")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"firebase:download")," runs the ",(0,a.kt)("inlineCode",{parentName:"li"},"firebase-download-script.js")," script, saving certain data in Firebase to your local machine.")),(0,a.kt)("h2",{id:"dev"},"Dev"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"npm run dev")," runs the app in development mode on Electron. It executes ",(0,a.kt)("inlineCode",{parentName:"p"},"start")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"start:electron")," concurrently."),(0,a.kt)("p",null,"Note that this is a base script that other scripts build on top of - you should always run one of the scripts below while developing your app. The additional scripts execute ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run dev")," with different ",(0,a.kt)("a",{parentName:"p",href:"environment_variables"},"environment variables"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dev:home")," runs the app with equipment disabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dev:home:video")," runs the app with equipment disabled and video enabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dev:clinic")," runs the app with equipment enabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dev:clinic:video")," runs the app with equipment enabled and video enabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dev:turk-prolific")," runs the app with prolific and PsiTurk enabled")),(0,a.kt)("h3",{id:"firebase-1"},"Firebase"),(0,a.kt)("p",null,"Working with Firebase is slightly different as it is meant to be run on the browser. ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run dev:firebase")," executes ",(0,a.kt)("inlineCode",{parentName:"p"},"start:browser")," with Firebase enabled, which will automatically launch the running app in your default browser. It can be found on other browsers by navigating to ",(0,a.kt)("a",{parentName:"p",href:"https://localhost:3000"},"localhost:3000"),"."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"dev:firebase")," must be run in conjunction with ",(0,a.kt)("inlineCode",{parentName:"p"},"firebase:emulators:start")," to work properly. This runs the Firebase Emulators locally with some dummy data. The emulator data can be viewed at ",(0,a.kt)("a",{parentName:"p",href:"https://localhost:4000"},"localhost:4000"),"."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("inlineCode",{parentName:"p"},"npm run firebase:emulators:start")," must be run in a separate terminal window that stays during development.")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"The dummy study is ",(0,a.kt)("inlineCode",{parentName:"p"},"s1")," and the dummy participant is ",(0,a.kt)("inlineCode",{parentName:"p"},"p1"),".")),(0,a.kt)("h2",{id:"build"},"Build"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"npm run build")," creates a production build of the app in the ",(0,a.kt)("inlineCode",{parentName:"p"},"build/")," folder."),(0,a.kt)("p",null,"Note that this is a base script that other scripts build on top of - you should always run one of the scripts below while developing your app. The additional scripts execute ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run build")," with different ",(0,a.kt)("a",{parentName:"p",href:"environment_variables"},"environment variables"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"build:home")," builds the app with equipment disabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"build:home:video")," builds the app with equipment disabled and video enabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"build:clinic")," builds the app with equipment enabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"build:clinic:video")," builds the app with equipment enabled and video enabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"build:firebase")," builds the app with Firebase enabled"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"build:turk-prolific")," builds the app with prolific and PsiTurk enabled")),(0,a.kt)("h2",{id:"package"},"Package"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"npm run package:[platform]")," creates a standalone installer for the given platform using electron-forge. The installer is created in ",(0,a.kt)("inlineCode",{parentName:"p"},"out/"),". Note that the scripts build the app before creating the installers"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"npm run package:windows")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"npm run package:linux")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"npm run package:mac"))),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Packaging for windows on a non-windows machine requires ",(0,a.kt)("inlineCode",{parentName:"p"},"mono")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"wine")," to be installed.")),(0,a.kt)("h2",{id:"miscellaneous"},"Miscellaneous"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"commit")," runs ",(0,a.kt)("a",{parentName:"li",href:"https://commitizen-tools.github.io/commitizen/"},"commitizen")," in the console. It is useful for ensuring your Git commit messages are easy to follow."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"lint")," uses ",(0,a.kt)("a",{parentName:"li",href:"https://eslint.org/"},"Eslint")," to find problems in the code"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"format")," uses ",(0,a.kt)("a",{parentName:"li",href:"https://eslint.org/"},"Eslint")," to find and fix problems in the code that it can automatically"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"test")," launches the test runner in the interactive watch mode. See ",(0,a.kt)("a",{parentName:"li",href:"https://facebook.github.io/create-react-app/docs/running-tests"},"running tests")," for more information.")))}m.isMDXComponent=!0}}]);