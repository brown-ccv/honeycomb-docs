"use strict";(self.webpackChunkhoneycomb=self.webpackChunkhoneycomb||[]).push([[186],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(n),h=r,d=m["".concat(s,".").concat(h)]||m[h]||u[h]||o;return n?a.createElement(d,i(i({ref:t},p),{},{components:n})):a.createElement(d,i({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2825:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return i},default:function(){return u},frontMatter:function(){return o},metadata:function(){return l},toc:function(){return c}});var a=n(3117),r=(n(7294),n(3905));const o={id:"quick_start",title:"Quick Start"},i=void 0,l={unversionedId:"quick_start",id:"quick_start",title:"Quick Start",description:"Before we can get started with Honeycomb, we must make sure our machines have the required prerequisites for Honeycomb to run.",source:"@site/docs/quick_start.md",sourceDirName:".",slug:"/quick_start",permalink:"/honeycomb-docs/docs/quick_start",draft:!1,editUrl:"https://github.com/brown-ccv/honeycomb-docs/edit/main/docs/quick_start.md",tags:[],version:"current",lastUpdatedAt:1660757380,formattedLastUpdatedAt:"Aug 17, 2022",frontMatter:{id:"quick_start",title:"Quick Start"},sidebar:"someSidebar",previous:{title:"Project Organization",permalink:"/honeycomb-docs/docs/folders"},next:{title:"Version Control",permalink:"/honeycomb-docs/docs/version_control"}},s={},c=[{value:"1. Installing Prerequisites",id:"1-installing-prerequisites",level:3},{value:"Installing Prerequisites with Homebrew (for macOS)",id:"installing-prerequisites-with-homebrew-for-macos",level:4},{value:"Installing Homebrew",id:"installing-homebrew",level:5},{value:"Install Perquisites on Windows (chocolatey)",id:"install-perquisites-on-windows-chocolatey",level:4},{value:"Installing Chocolatey",id:"installing-chocolatey",level:5},{value:"Start your new task from our template repository",id:"start-your-new-task-from-our-template-repository",level:3},{value:"Running Brewfile",id:"running-brewfile",level:5},{value:"Using Chocolatey",id:"using-chocolatey",level:5},{value:"Installing firebase-cli",id:"installing-firebase-cli",level:5},{value:"2. Change name and description",id:"2-change-name-and-description",level:3},{value:"3. Install NPM Packages",id:"3-install-npm-packages",level:3},{value:"1. Metadata",id:"1-metadata",level:4},{value:"2. Dependencies",id:"2-dependencies",level:5},{value:"3. Scripts",id:"3-scripts",level:5},{value:"4. Run the task in dev mode",id:"4-run-the-task-in-dev-mode",level:3},{value:"5. Learn about configuring your task for different environments",id:"5-learn-about-configuring-your-task-for-different-environments",level:3},{value:"6. Check out the data",id:"6-check-out-the-data",level:3},{value:"7. Quit the task",id:"7-quit-the-task",level:3},{value:"8. Run automated tests",id:"8-run-automated-tests",level:3},{value:"Linux",id:"linux",level:4}],p={toc:c};function u(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Before we can get started with Honeycomb, we must make sure our machines have the required prerequisites for Honeycomb to run."),(0,r.kt)("h3",{id:"1-installing-prerequisites"},"1. Installing Prerequisites"),(0,r.kt)("p",null,"There are some prerequisites that are required across all operating systems to run Honeycomb. For macOS users, we highly recommend using Homebrew to expedite installing these prerequisites."),(0,r.kt)("p",null,"The following are required for this project:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"git"),(0,r.kt)("li",{parentName:"ol"},"Node.js"),(0,r.kt)("li",{parentName:"ol"},"Electron"),(0,r.kt)("li",{parentName:"ol"},"Firebase CLI")),(0,r.kt)("h4",{id:"installing-prerequisites-with-homebrew-for-macos"},"Installing Prerequisites with Homebrew (for macOS)"),(0,r.kt)("h5",{id:"installing-homebrew"},"Installing Homebrew"),(0,r.kt)("p",null,"Paste the following in a macOS Terminal and press enter to install Homebrew."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"\n')),(0,r.kt)("p",null,"Note: ",(0,r.kt)("em",{parentName:"p"},"When this command is run, additional installations may be automatically added by Homebrew based on your machine's configurations.\nHomebrew will prompt you to ",(0,r.kt)("inlineCode",{parentName:"em"},"Press RETURN to continue or any other key to abort"),". Please continue with these installations by pressing ",(0,r.kt)("inlineCode",{parentName:"em"},"Return"))),(0,r.kt)("h4",{id:"install-perquisites-on-windows-chocolatey"},"Install Perquisites on Windows (chocolatey)"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://chocolatey.org"},"Chocolatey")," is a package manager for Windows - essentially the equivalent of Homebrew for MacOs. It installs software from the command line and makes updates much easier."),(0,r.kt)("h5",{id:"installing-chocolatey"},"Installing Chocolatey"),(0,r.kt)("p",null,"Run Powershell with administrator privileges and paste the following command:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Run Powershell as an admin form the start menu",src:n(6907).Z,width:"783",height:"679"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))\n")),(0,r.kt)("h3",{id:"start-your-new-task-from-our-template-repository"},"Start your new task from our template repository"),(0,r.kt)("p",null,"To start a new task locally, in development mode follow these steps:"),(0,r.kt)("p",null,"The simplest way to get started is creating a new repository using Honeycomb as a template. This option will allow you to generate a new repository with the same directory structure and files as an existing repository."),(0,r.kt)("p",null,"Creating a repository from a template is similar to forking a repository, but there are important differences:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A new fork includes the entire commit history of the parent repository, while a repository created from a template starts with a single commit."),(0,r.kt)("li",{parentName:"ul"},"Commits to a fork don't appear in your contributions graph, while commits to a repository created from a template do appear in your contribution graph."),(0,r.kt)("li",{parentName:"ul"},"A fork can be a temporary way to contribute code to an existing project, while creating a repository from a template starts a new project quickly.")),(0,r.kt)("p",null,"Go to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/brown-ccv/honeycomb"},"https://github.com/brown-ccv/honeycomb")," and click on ",(0,r.kt)("inlineCode",{parentName:"p"},"Use this template")," on the top right."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(6689).Z,width:"2408",height:"1212"})),(0,r.kt)("p",null,"Then select the organization and the name of your repository and click on ",(0,r.kt)("inlineCode",{parentName:"p"},"create repository from template"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(7443).Z,width:"2408",height:"1212"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# clone project \ngit clone https://github.com/your-github-account/your-new-task-name.git\n")),(0,r.kt)("p",null,"Alternatively, you can use GitHub CLI to create a new project based on the Honeycomb template repository. First, install GitHub CLI (",(0,r.kt)("a",{parentName:"p",href:"https://cli.github.com/"},"https://cli.github.com/"),"), then run on your terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"gh repo create your-new-task-name --template brown-ccv/honeycomb\n")),(0,r.kt)("p",null,"You can now move into the directory that was just created"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"cd your-new-task-name\n")),(0,r.kt)("h5",{id:"running-brewfile"},"Running Brewfile"),(0,r.kt)("p",null,"A Brewfile is a script that developers can use to install multiple software tools that are required to run an application."),(0,r.kt)("p",null,"Navigate to the project directory on the command line and run the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"brew bundle\n")),(0,r.kt)("p",null,"This will call the ",(0,r.kt)("inlineCode",{parentName:"p"},"brew")," command which will install all the listed packages to your project."),(0,r.kt)("h5",{id:"using-chocolatey"},"Using Chocolatey"),(0,r.kt)("p",null,"Moreover, chocolatey will install multiple software packages if given a configuration file. The honeycomb template repository includes one! Assuming you are in your root directory of the project, run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"choco install chocolatey.config\n")),(0,r.kt)("h5",{id:"installing-firebase-cli"},"Installing firebase-cli"),(0,r.kt)("p",null,"firebase-cli can be installed using npm (Node Package Manager):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm install -g firebase-tools\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"The ",(0,r.kt)("inlineCode",{parentName:"em"},"-g")," flag installs an npm package globally on your system, as opposed to the current project")),(0,r.kt)("h3",{id:"2-change-name-and-description"},"2. Change name and description"),(0,r.kt)("p",null,"It's best practice to create a new branch whenever we look to make changes and/or add a new feature. Your IDE may have a way to do this or it can always be done on the command line."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"git checkout -b <branch-name>\n")),(0,r.kt)("p",null,"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," and edit it to reflect your app name and description (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"author"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"repository"),"). Save your changes and commit them to git:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'git commit -m "Commit message goes here!"\n')),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Checkout the ",(0,r.kt)("a",{parentName:"em",href:"https://brown-ccv.github.io/honeycomb-docs/docs/version_control"},"Version Control")," page for more information about working with git")),(0,r.kt)("h3",{id:"3-install-npm-packages"},"3. Install NPM Packages"),(0,r.kt)("p",null,"With Node.js installed in Step 0, we are now able to utilize the ",(0,r.kt)("inlineCode",{parentName:"p"},"npm")," command in the terminal.\n",(0,r.kt)("inlineCode",{parentName:"p"},"npm")," is a command-line utility for Node.js that makes it easy for you to install packages and maintain them throughout the lifecycle of your application."),(0,r.kt)("p",null,"Please run the following command to trigger the installation of all the dependencies relevant to this project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm install\n")),(0,r.kt)("p",null,"Honeycomb, like most applications, contains a template called ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json"),". This file contains three distinctive parts that we interact with using a series of npm commands."),(0,r.kt)("h4",{id:"1-metadata"},"1. Metadata"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "honeycomb",\n  "description": "all-in-one task starter app with jsPsych + React + Electron + psiturk ",\n  "author": {\n    "name": "Brown CCV",\n    "email": "ccv-bot@brown.edu",\n    "url": "ccv.brown.edu"\n  }\n}\n')),(0,r.kt)("p",null,"The metadata provides information about the project such as the name, author and description."),(0,r.kt)("h5",{id:"2-dependencies"},"2. Dependencies"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"dependencies": {\n  "@brown-ccv/behavioral-task-trials": "^2.0.0",\n  "@fortawesome/fontawesome-free": "^5.9.0",\n  "bootstrap": "^5.2.0-beta1",\n  "electron-log": "^4.4.8",\n  "electron-squirrel-startup": "^1.0.0",\n  "event-marker": "git+https://github.com/brown-ccv/event-marker.git",\n  ...\n}\n')),(0,r.kt)("p",null,"Dependencies are packages that the project rely on for it to function properly."),(0,r.kt)("p",null,"They are formatted in specific key/value pairs where every key is a name of the package and the value is the version range that\u2019s acceptable."),(0,r.kt)("p",null,"Note: ",(0,r.kt)("em",{parentName:"p"},"If any changes are made to the dependencies section of the ",(0,r.kt)("inlineCode",{parentName:"em"},"package.json"),", you must run ",(0,r.kt)("inlineCode",{parentName:"em"},"npm install")," again to download the newly updated list of dependencies.")),(0,r.kt)("h5",{id:"3-scripts"},"3. Scripts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"scripts": {\n  "commit": "git-cz",\n  "postinstall": "node version.js && npm run rebuild",\n  "start": "cross-env BROWSER=\\"none\\" NODE_PATH=\\"./src\\" react-scripts start",\n  "start:browser": "react-scripts start",\n  "test": "react-scripts test",\n  "prebuild": "electron-rebuild",\n  "build": "react-scripts build",\n  ...\n}\n')),(0,r.kt)("p",null,"The scripts section contains a number of commands you can run."),(0,r.kt)("p",null,"They are also presented in key/value pair where the key is the command name and value is the command we want to run."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Checkout the ",(0,r.kt)("a",{parentName:"em",href:"https://brown-ccv.github.io/honeycomb-docs/docs/npm_scripts"},"NPM Scripts")," page for more information about the different scripts you can run.")),(0,r.kt)("h3",{id:"4-run-the-task-in-dev-mode"},"4. Run the task in dev mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"npm run dev # Windows users must use a git bash terminal\n")),(0,r.kt)("p",null,"This will launch an electron window with the task and inspector open. It will hot-reload whenever changes are made to the app."),(0,r.kt)("h3",{id:"5-learn-about-configuring-your-task-for-different-environments"},"5. Learn about configuring your task for different environments"),(0,r.kt)("p",null,"HoneyComb tasks can be configured to run as a web app in Firebase, as desktop application via electron, to receive port signals from EEG, cameras, foot pedals and more. To learn more about how to configure your task for these different scenarios, see the ",(0,r.kt)("a",{parentName:"p",href:"/docs/configuration"},"Configuration Section"),"."),(0,r.kt)("h3",{id:"6-check-out-the-data"},"6. Check out the data"),(0,r.kt)("p",null,"The data is saved throughout the task. When running as a Desktop App, data is saved to the user's app directory. When running as Web App in Firebase, data is stored in the FireStore."),(0,r.kt)("p",null,"For a Desktop App, the location of the is logged at the beginning of the task wherever you ran ",(0,r.kt)("inlineCode",{parentName:"p"},"npm run dev"),". Data is also stored in a folder that is generated by the app, which should be found on the desktop."),(0,r.kt)("h3",{id:"7-quit-the-task"},"7. Quit the task"),(0,r.kt)("p",null,"If you want to quit in the middle of the task, you can use these keyboard shortcuts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shortcut"},"Ctrl+W (for PC/Windows)\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shortcut"},"Cmd+Q (for Mac)\n")),(0,r.kt)("p",null,"Partial data will be saved."),(0,r.kt)("h3",{id:"8-run-automated-tests"},"8. Run automated tests"),(0,r.kt)("p",null,"When getting started, merging updates, or making custom changes, it's a good idea to run automated tests. These can tell you if things are working or if recent changes broke something that previously worked."),(0,r.kt)("p",null,"To run the tests interactively:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm test\n")),(0,r.kt)("p",null,"Or non-interactively:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"CI=true npm test\n")),(0,r.kt)("h4",{id:"linux"},"Linux"),(0,r.kt)("p",null,"When running ",(0,r.kt)("inlineCode",{parentName:"p"},"npm test")," on Linux, you might get an error that mentions ",(0,r.kt)("inlineCode",{parentName:"p"},"ENOSPC"),'. This is because the test runner creates "watchers" for files in the project repo in order to automatically re-run tests as the files change. Linux limits the number of watchers that can be created at a time and the default limit may be smaller than the number of files in the repo.'),(0,r.kt)("p",null,'This is a "known issue" with some test runners on Linux, as in discussions ',(0,r.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/55763428/react-native-error-enospc-system-limit-for-number-of-file-watchers-reached"},"here")," and ",(0,r.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/62206460/jest-watch-error-enospc-system-limit-for-number-of-file-watchers-reached"},"here"),"."),(0,r.kt)("p",null,"One simple workaround is to increase the number of allowed watchers (100000 seems to be sufficient):"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Command that initially fails with ",(0,r.kt)("inlineCode",{parentName:"li"},"ENOSPC"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"npm test")),(0,r.kt)("li",{parentName:"ul"},'Check the configured limit on "watchers": ',(0,r.kt)("inlineCode",{parentName:"li"},"cat /proc/sys/fs/inotify/max_user_watches")),(0,r.kt)("li",{parentName:"ul"},"Edit the relevant Linux config file: ",(0,r.kt)("inlineCode",{parentName:"li"},"sudo vim /etc/sysctl.conf")),(0,r.kt)("li",{parentName:"ul"},"Add a line at the end of the config file: ",(0,r.kt)("inlineCode",{parentName:"li"},"fs.inotify.max_user_watches=100000")),(0,r.kt)("li",{parentName:"ul"},"Save, exit, and reload the config file: ",(0,r.kt)("inlineCode",{parentName:"li"},"sudo sysctl -p")),(0,r.kt)("li",{parentName:"ul"},"Check that the limit has changed: ",(0,r.kt)("inlineCode",{parentName:"li"},"cat /proc/sys/fs/inotify/max_user_watches")),(0,r.kt)("li",{parentName:"ul"},"Retry the initial command, which should now succeed: ",(0,r.kt)("inlineCode",{parentName:"li"},"npm test"))))}u.isMDXComponent=!0},6907:function(e,t,n){t.Z=n.p+"assets/images/powershell_admin-33d18a547790e540d5630c7626b766c6.png"},6689:function(e,t,n){t.Z=n.p+"assets/images/template_0-a1b5129c7526d910bfd8ca1b78464793.png"},7443:function(e,t,n){t.Z=n.p+"assets/images/template_1-e2b5ed212b0dc62bd3a18b45337a1872.png"}}]);